document.querySelectorAll(".information_tab").forEach(a=>{a.onclick=function(){document.querySelector(".information_content.active").classList.remove("active"),document.querySelector(".information_show").children[a.dataset.tab].classList.add("active")}});async function updateInfo(a){let b=new FormData,c=document.forms[a];for(let d=0;d<c.length;d++)"submit"!=c.elements[d].name&&b.append(c.elements[d].name,c.elements[d].value);b.append("ajaxSettings","plugins:cabinet:save"+a),await fetch("/Ajax.php",{method:"POST",body:b}),document.location.href="cabinet"}async function getButton(a){let b=new FormData;b.append("ajaxSettings","plugins:cabinet:getButton"),b.append("name",a);let c=await fetch("/Ajax.php",{method:"POST",body:b}),d=await c.json(),e=JSON.parse(d);b=null,createForm(e,document.querySelector("."+a)),document.getElementById("create_"+a)&&document.getElementById("create_"+a).remove()}function createForm(c,d){let e,f={main:d,block:{},wrapper:{},label:{},field:{},attribute:{},other:{}},g=(a,b,c)=>{let d="div"==a||"label"==a||"p"==a||"hr"==a||"input"==a||"textarea"==a;return /^data/.test(a)&&(a=a.replace(/_/,"-")),d?(e=document.createElement(a),"no"!=b&&(e.textContent=b),c.appendChild(e)):(e=document.createAttribute(a),e.value=b,c.setAttributeNode(e)),e};for(let e in c)for(let a in c[e]){let b=c[e][a].split(" + "),d=b[2],h=b[1];f[d]=g(a,b[0],f[h])}}async function formInfo(a){let b=new FormData,c=document.querySelectorAll("."+a.toLowerCase());for(let d,e=0;e<c.length;++e){d=c[e].getElementsByTagName("input");for(let a=0;a<d.length;a++)"file"==d[a].getAttribute("type")&&void 0!==d[a].files[0]?b.append(d[a].getAttribute("name"),d[a].files[0]):b.append(d[a].getAttribute("name"),d[a].value);let f=c[e].getElementsByTagName("textarea");for(let a=0;a<f.length;a++)b.append(f[a].getAttribute("name"),f[a].value);c[e].getAttribute("data-"+a.toLowerCase())=="new_"+a.toLowerCase()?b.append("id","add"):b.append("id",c[e].getAttribute("data-"+a.toLowerCase())),b.append("ajaxSettings","plugins:cabinet:save"+a),await fetch("/Ajax.php",{method:"POST",body:b})}b=null,document.location.href="cabinet"}async function deleteItem(a,b){let c=new FormData;a.parentNode.getAttribute("data-"+b)=="new_"+b?a.parentNode.remove():(c.append("id",a.parentNode.getAttribute("data-"+b)),c.append("ajaxSettings","plugins:cabinet:delete"+b.toUpperCase()),await fetch("/Ajax.php",{method:"POST",body:c}),c=null,a.parentNode.remove(),document.location.href="cabinet")}