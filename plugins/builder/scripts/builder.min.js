let tabs=document.querySelectorAll(".information_tab");tabs.forEach(e=>{e.onclick=function(){document.querySelector(".active").classList.remove("active"),document.querySelector(".information_show").children[e.getAttribute("data-tab")].classList.add("active")}});async function updateInfo(e){let t=new FormData,a=document.forms[e];a.getElementsByTagName("input");for(let e=0;e<a.length;e++)"submit"!=a.elements[e].getAttribute("name")&&t.append(a.elements[e].getAttribute("name"),a.elements[e].value);t.append("ajaxSettings","plugins:cabinet:"),t.append("ajaxMethod","save"+e),await fetch("/Ajax.php",{method:"POST",body:t}),document.location.href="cabinet"}async function getButton(e){let t=new FormData;t.append("ajaxSettings","plugins:cabinet:"),t.append("ajaxMethod","getButton"),t.append("name",e);let a=await fetch("/Ajax.php",{method:"POST",body:t});var n=await a.json(),n=JSON.parse(n);t=null,createForm(n,document.querySelector("."+e)),document.getElementById("create_"+e)&&document.getElementById("create_"+e).remove()}function createForm(e,t){let a,n={main:t,block:{},wrapper:{},label:{},field:{},attribute:{},other:{}};var o,r,i,d,l;for(o in e)for(var p in e[o]){var c=e[o][p].split(" + "),u=c[2],m=c[1];n[u]=(r=p,i=c[0],d=n[m],l=void 0,l="div"==r||"label"==r||"p"==r||"hr"==r||"input"==r||"textarea"==r,/^data/.test(r)&&(r=r.replace(/_/,"-")),l?(a=document.createElement(r),"no"!=i&&(a.textContent=i),d.appendChild(a)):(a=document.createAttribute(r),a.value=i,d.setAttributeNode(a)),a)}}async function formInfo(n){let o=new FormData,r=document.querySelectorAll("."+n.toLowerCase());for(let e=0;e<r.length;++e){let t=r[e].getElementsByTagName("input");for(let e=0;e<t.length;e++)"file"==t[e].getAttribute("type")&&void 0!==t[e].files[0]?o.append(t[e].getAttribute("name"),t[e].files[0]):o.append(t[e].getAttribute("name"),t[e].value);let a=r[e].getElementsByTagName("textarea");for(let e=0;e<a.length;e++)o.append(a[e].getAttribute("name"),a[e].value);r[e].getAttribute("data-"+n.toLowerCase())!="new_"+n.toLowerCase()?o.append("id",r[e].getAttribute("data-"+n.toLowerCase())):o.append("id","add"),o.append("ajaxSettings","plugins:cabinet:"),o.append("ajaxMethod","save"+n),await fetch("/Ajax.php",{method:"POST",body:o})}o=null,document.location.href="cabinet"}async function deleteItem(e,t){let a=new FormData;e.parentNode.getAttribute("data-"+t)!="new_"+t?(a.append("id",e.parentNode.getAttribute("data-"+t)),a.append("ajaxSettings","plugins:cabinet:"),a.append("ajaxMethod","delete"+t.toUpperCase()),await fetch("/Ajax.php",{method:"POST",body:a}),a=null,e.parentNode.remove(),document.location.href="cabinet"):e.parentNode.remove()}